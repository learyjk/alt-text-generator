(()=>{var g=()=>{let u="https://alt-text-generator-api-kcffb7uzra-uc.a.run.app",e=document.querySelector("form"),o=document.querySelector("#results");if(!e||!o)return;e.parentElement?.classList.remove("w-form");let m=r=>{var n=r.match(/\bhttps?:\/\/\S+/gi);return n?.map(t=>t[t.length-1]===","?t.slice(0,-1):t)||[]};e.addEventListener("submit",async r=>{r.preventDefault(),o.innerHTML="";let n=e.querySelector(".w-button");if(!n)return;n.value="Generating Captions...";let s=new FormData(e),t=Object.fromEntries(s),a=m(t.field.trim());if(!a)return;let d=JSON.stringify({urls:a}),i=(await(await fetch(`${u}/describe`,{method:"POST",body:d,headers:{"Content-Type":"application/json"}})).json()).captions;console.info({captions:i}),i.forEach((c,f)=>{let l=c.description.captions[0].text,h=c.description.captions[0].confidence,p=document.createElement("p");p.innerText=`${f+1}: ${l} (confidence: ${h})`,o.appendChild(p)}),n.value="Submit"})};document.addEventListener("DOMContentLoaded",g);})();
//# sourceMappingURL=index.js.map
